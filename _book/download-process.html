<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Download process | _main.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Download process | _main.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Download process | _main.knit" />
  
  
  

<meta name="author" content="ROSSyndicate" />


<meta name="date" content="2023-08-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="pre-harmonization-decision-process.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> AquaMatch harmonization process</a></li>
<li class="chapter" data-level="2" data-path="download-process.html"><a href="download-process.html"><i class="fa fa-check"></i><b>2</b> Download process</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="download-process.html"><a href="download-process.html#catalogue-existing-data"><i class="fa fa-check"></i><b>2.0.1</b> Catalogue existing data</a></li>
<li class="chapter" data-level="2.0.2" data-path="download-process.html"><a href="download-process.html#maps-of-data-spread"><i class="fa fa-check"></i><b>2.0.2</b> Maps of data spread:</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="pre-harmonization-decision-process.html"><a href="pre-harmonization-decision-process.html"><i class="fa fa-check"></i><b>3</b> Pre-harmonization decision process</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="pre-harmonization-decision-process.html"><a href="pre-harmonization-decision-process.html#initial-dataset"><i class="fa fa-check"></i><b>3.0.1</b> Initial dataset</a></li>
<li class="chapter" data-level="3.0.2" data-path="pre-harmonization-decision-process.html"><a href="pre-harmonization-decision-process.html#remove-duplicates"><i class="fa fa-check"></i><b>3.0.2</b> Remove duplicates</a></li>
<li class="chapter" data-level="3.0.3" data-path="pre-harmonization-decision-process.html"><a href="pre-harmonization-decision-process.html#missing-results"><i class="fa fa-check"></i><b>3.0.3</b> Missing results</a></li>
<li class="chapter" data-level="3.0.4" data-path="pre-harmonization-decision-process.html"><a href="pre-harmonization-decision-process.html#filter-status"><i class="fa fa-check"></i><b>3.0.4</b> Filter status</a></li>
<li class="chapter" data-level="3.0.5" data-path="pre-harmonization-decision-process.html"><a href="pre-harmonization-decision-process.html#filter-media"><i class="fa fa-check"></i><b>3.0.5</b> Filter media</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html"><i class="fa fa-check"></i><b>4</b> Chlorophyll harmonization process (strict version)</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#initial-dataset-1"><i class="fa fa-check"></i><b>4.0.1</b> Initial dataset</a></li>
<li class="chapter" data-level="4.0.2" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#filter-for-water-media"><i class="fa fa-check"></i><b>4.0.2</b> Filter for water media</a></li>
<li class="chapter" data-level="4.0.3" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#keep-only-chlorophyll-parameters"><i class="fa fa-check"></i><b>4.0.3</b> Keep only chlorophyll parameters</a></li>
<li class="chapter" data-level="4.0.4" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#remove-fails-and-other-missing-data"><i class="fa fa-check"></i><b>4.0.4</b> Remove fails and other missing data</a></li>
<li class="chapter" data-level="4.0.5" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#clean-mdls"><i class="fa fa-check"></i><b>4.0.5</b> Clean MDLs</a></li>
<li class="chapter" data-level="4.0.6" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#clean-approximate-values"><i class="fa fa-check"></i><b>4.0.6</b> Clean approximate values</a></li>
<li class="chapter" data-level="4.0.7" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#clean-values-with-greater-than-data"><i class="fa fa-check"></i><b>4.0.7</b> Clean values with “greater than” data</a></li>
<li class="chapter" data-level="4.0.8" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#harmonize-record-units"><i class="fa fa-check"></i><b>4.0.8</b> Harmonize record units</a></li>
<li class="chapter" data-level="4.0.9" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#clean-depth-data"><i class="fa fa-check"></i><b>4.0.9</b> Clean depth data</a></li>
<li class="chapter" data-level="4.0.10" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#filter-based-on-analytical-method"><i class="fa fa-check"></i><b>4.0.10</b> Filter based on analytical method</a></li>
<li class="chapter" data-level="4.0.11" data-path="chlorophyll-harmonization-process-strict-version.html"><a href="chlorophyll-harmonization-process-strict-version.html#filter-based-on-fraction-type"><i class="fa fa-check"></i><b>4.0.11</b> Filter based on fraction type</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html"><i class="fa fa-check"></i><b>5</b> DOC harmonization process (strict version)</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#initial-dataset-2"><i class="fa fa-check"></i><b>5.0.1</b> Initial dataset</a></li>
<li class="chapter" data-level="5.0.2" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#filter-for-water-media-1"><i class="fa fa-check"></i><b>5.0.2</b> Filter for water media</a></li>
<li class="chapter" data-level="5.0.3" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#remove-fails-and-other-missing-data-1"><i class="fa fa-check"></i><b>5.0.3</b> Remove fails and other missing data</a></li>
<li class="chapter" data-level="5.0.4" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#clean-mdls-1"><i class="fa fa-check"></i><b>5.0.4</b> Clean MDLs</a></li>
<li class="chapter" data-level="5.0.5" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#clean-approximate-values-1"><i class="fa fa-check"></i><b>5.0.5</b> Clean approximate values</a></li>
<li class="chapter" data-level="5.0.6" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#harmonize-record-units-1"><i class="fa fa-check"></i><b>5.0.6</b> Harmonize record units</a></li>
<li class="chapter" data-level="5.0.7" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#filter-based-on-analytical-method-1"><i class="fa fa-check"></i><b>5.0.7</b> Filter based on analytical method</a></li>
<li class="chapter" data-level="5.0.8" data-path="doc-harmonization-process-strict-version.html"><a href="doc-harmonization-process-strict-version.html#filter-based-on-fraction-type-1"><i class="fa fa-check"></i><b>5.0.8</b> Filter based on fraction type</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html"><i class="fa fa-check"></i><b>6</b> Secchi harmonization process (strict version)</a>
<ul>
<li class="chapter" data-level="6.0.1" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#initial-dataset-3"><i class="fa fa-check"></i><b>6.0.1</b> Initial dataset</a></li>
<li class="chapter" data-level="6.0.2" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#filter-for-water-media-2"><i class="fa fa-check"></i><b>6.0.2</b> Filter for water media</a></li>
<li class="chapter" data-level="6.0.3" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#remove-fails-and-other-missing-data-2"><i class="fa fa-check"></i><b>6.0.3</b> Remove fails and other missing data</a></li>
<li class="chapter" data-level="6.0.4" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#clean-mdls-2"><i class="fa fa-check"></i><b>6.0.4</b> Clean MDLs</a></li>
<li class="chapter" data-level="6.0.5" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#clean-approximate-values-2"><i class="fa fa-check"></i><b>6.0.5</b> Clean approximate values</a></li>
<li class="chapter" data-level="6.0.6" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#clean-values-with-greater-than-data-1"><i class="fa fa-check"></i><b>6.0.6</b> Clean values with “greater than” data</a></li>
<li class="chapter" data-level="6.0.7" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#harmonize-record-units-2"><i class="fa fa-check"></i><b>6.0.7</b> Harmonize record units</a></li>
<li class="chapter" data-level="6.0.8" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#filter-based-on-analytical-method-2"><i class="fa fa-check"></i><b>6.0.8</b> Filter based on analytical method</a></li>
<li class="chapter" data-level="6.0.9" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#filter-based-on-fraction-type-2"><i class="fa fa-check"></i><b>6.0.9</b> Filter based on fraction type</a></li>
<li class="chapter" data-level="6.0.10" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#filter-based-on-sample-method"><i class="fa fa-check"></i><b>6.0.10</b> Filter based on sample method</a></li>
<li class="chapter" data-level="6.0.11" data-path="secchi-harmonization-process-strict-version.html"><a href="secchi-harmonization-process-strict-version.html#filter-based-on-collection-equipment"><i class="fa fa-check"></i><b>6.0.11</b> Filter based on collection equipment</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html"><i class="fa fa-check"></i><b>7</b> TSS harmonization process (strict version)</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#initial-dataset-4"><i class="fa fa-check"></i><b>7.0.1</b> Initial dataset</a></li>
<li class="chapter" data-level="7.0.2" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#filter-for-water-media-3"><i class="fa fa-check"></i><b>7.0.2</b> Filter for water media</a></li>
<li class="chapter" data-level="7.0.3" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#remove-fails-and-other-missing-data-3"><i class="fa fa-check"></i><b>7.0.3</b> Remove fails and other missing data</a></li>
<li class="chapter" data-level="7.0.4" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#clean-mdls-3"><i class="fa fa-check"></i><b>7.0.4</b> Clean MDLs</a></li>
<li class="chapter" data-level="7.0.5" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#clean-approximate-values-3"><i class="fa fa-check"></i><b>7.0.5</b> Clean approximate values</a></li>
<li class="chapter" data-level="7.0.6" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#clean-values-with-greater-than-data-2"><i class="fa fa-check"></i><b>7.0.6</b> Clean values with “greater than” data</a></li>
<li class="chapter" data-level="7.0.7" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#harmonize-record-units-3"><i class="fa fa-check"></i><b>7.0.7</b> Harmonize record units</a></li>
<li class="chapter" data-level="7.0.8" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#filter-based-on-analytical-method-3"><i class="fa fa-check"></i><b>7.0.8</b> Filter based on analytical method</a></li>
<li class="chapter" data-level="7.0.9" data-path="tss-harmonization-process-strict-version.html"><a href="tss-harmonization-process-strict-version.html#filter-based-on-fraction-type-3"><i class="fa fa-check"></i><b>7.0.9</b> Filter based on fraction type</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="download-process" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Download process<a href="download-process.html#download-process" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="catalogue-existing-data" class="section level3 hasAnchor" number="2.0.1">
<h3><span class="header-section-number">2.0.1</span> Catalogue existing data<a href="download-process.html#catalogue-existing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The download process begins by cataloging the existing data that is
available in the WQP. We start out using the characteristic names below
(grouped by parameters) for retrieving data. Data for these parameters
are requested from the WQP within a spatial grid that is mapped in the
next section.</p>
<p>chlorophyll:</p>
<ul>
<li>“Chlorophyll”</li>
<li>“Chlorophyll A”</li>
<li>“Chlorophyll a”</li>
<li>“Chlorophyll a (probe relative fluorescence)”</li>
<li>“Chlorophyll a (probe)”</li>
<li>“Chlorophyll a - Periphyton (attached)”</li>
<li>“Chlorophyll a - Phytoplankton (suspended)”</li>
<li>“Chlorophyll a, corrected for pheophytin”</li>
<li>“Chlorophyll a, free of pheophytin”</li>
<li>“Chlorophyll a, uncorrected for pheophytin”</li>
<li>“Chlorophyll b”</li>
<li>“Chlorophyll c”</li>
<li>“Chlorophyll/Pheophytin ratio”</li>
</ul>
<p>secchi:</p>
<ul>
<li>“Depth, Secchi disk depth”</li>
<li>“Depth, Secchi disk depth (choice list)”</li>
<li>“Secchi Reading Condition (choice list)”</li>
<li>“Secchi depth”</li>
<li>“Water transparency, Secchi disc”</li>
</ul>
<p>doc:</p>
<ul>
<li>“Organic carbon”</li>
<li>“Total carbon”</li>
<li>“Hydrophilic fraction of organic carbon”</li>
<li>“Non-purgeable Organic Carbon (NPOC)”</li>
</ul>
<p>tss:</p>
<ul>
<li>“Total suspended solids”</li>
<li>“Total Particulate Matter”</li>
<li>“Total Suspended Particulate Matter”</li>
</ul>
<p><br></p>
</div>
<div id="maps-of-data-spread" class="section level3 hasAnchor" number="2.0.2">
<h3><span class="header-section-number">2.0.2</span> Maps of data spread:<a href="download-process.html#maps-of-data-spread" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Maps are presented below with counts of records across a grid. The grid
is how records are grouped in download requests to the Water Quality
Portal. <strong>Note:</strong> The counts here are for raw data that are not filtered
or harmonized.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="download-process.html#cb1-1" tabindex="-1"></a><span class="co"># Combine counts in each grid_id with the grid polygons</span></span>
<span id="cb1-2"><a href="download-process.html#cb1-2" tabindex="-1"></a>grid_counts <span class="ot">&lt;-</span> <span class="fu">left_join</span>(<span class="at">x =</span> global_grid,</span>
<span id="cb1-3"><a href="download-process.html#cb1-3" tabindex="-1"></a>                         <span class="at">y =</span> site_counts <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="download-process.html#cb1-4" tabindex="-1"></a>                           <span class="fu">count</span>(grid_id),</span>
<span id="cb1-5"><a href="download-process.html#cb1-5" tabindex="-1"></a>                         <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span> <span class="ot">=</span> <span class="st">&quot;grid_id&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="download-process.html#cb1-6" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">9311</span>)</span>
<span id="cb1-7"><a href="download-process.html#cb1-7" tabindex="-1"></a></span>
<span id="cb1-8"><a href="download-process.html#cb1-8" tabindex="-1"></a>state_selection <span class="ot">&lt;-</span> <span class="fu">states</span>(<span class="at">progress_bar =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-9"><a href="download-process.html#cb1-9" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">9311</span>)</span></code></pre></div>
</details>
<pre><code>## Retrieving data for the year 2021</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="download-process.html#cb3-1" tabindex="-1"></a><span class="co"># Conterminous US map:</span></span>
<span id="cb3-2"><a href="download-process.html#cb3-2" tabindex="-1"></a>conterminous_us <span class="ot">&lt;-</span> state_selection <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="download-process.html#cb3-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Alaska&quot;</span>, <span class="st">&quot;Hawaii&quot;</span>, <span class="st">&quot;American Samoa&quot;</span>,</span>
<span id="cb3-4"><a href="download-process.html#cb3-4" tabindex="-1"></a>                       <span class="st">&quot;Guam&quot;</span>, <span class="st">&quot;Puerto Rico&quot;</span>,</span>
<span id="cb3-5"><a href="download-process.html#cb3-5" tabindex="-1"></a>                       <span class="st">&quot;United States Virgin Islands&quot;</span>,</span>
<span id="cb3-6"><a href="download-process.html#cb3-6" tabindex="-1"></a>                       <span class="st">&quot;Commonwealth of the Northern Mariana Islands&quot;</span>)))</span>
<span id="cb3-7"><a href="download-process.html#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="download-process.html#cb3-8" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-9"><a href="download-process.html#cb3-9" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> grid_counts,</span>
<span id="cb3-10"><a href="download-process.html#cb3-10" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> n)) <span class="sc">+</span></span>
<span id="cb3-11"><a href="download-process.html#cb3-11" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> conterminous_us,</span>
<span id="cb3-12"><a href="download-process.html#cb3-12" tabindex="-1"></a>          <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-13"><a href="download-process.html#cb3-13" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb3-14"><a href="download-process.html#cb3-14" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb3-15"><a href="download-process.html#cb3-15" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fu">min</span>(<span class="fu">st_coordinates</span>(conterminous_us)[,<span class="st">&quot;X&quot;</span>]),</span>
<span id="cb3-16"><a href="download-process.html#cb3-16" tabindex="-1"></a>                    <span class="fu">max</span>(<span class="fu">st_coordinates</span>(conterminous_us)[,<span class="st">&quot;X&quot;</span>])),</span>
<span id="cb3-17"><a href="download-process.html#cb3-17" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fu">min</span>(<span class="fu">st_coordinates</span>(conterminous_us)[,<span class="st">&quot;Y&quot;</span>]),</span>
<span id="cb3-18"><a href="download-process.html#cb3-18" tabindex="-1"></a>                    <span class="fu">max</span>(<span class="fu">st_coordinates</span>(conterminous_us)[,<span class="st">&quot;Y&quot;</span>]))) <span class="sc">+</span></span>
<span id="cb3-19"><a href="download-process.html#cb3-19" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="st">&quot;Record count&quot;</span>,</span>
<span id="cb3-20"><a href="download-process.html#cb3-20" tabindex="-1"></a>                       <span class="at">trans =</span> <span class="st">&quot;log10&quot;</span>,</span>
<span id="cb3-21"><a href="download-process.html#cb3-21" tabindex="-1"></a>                       <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(),</span>
<span id="cb3-22"><a href="download-process.html#cb3-22" tabindex="-1"></a>                       <span class="at">na.value =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb3-23"><a href="download-process.html#cb3-23" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span></span>
<span id="cb3-24"><a href="download-process.html#cb3-24" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Conterminous US&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-25"><a href="download-process.html#cb3-25" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
</details>
<p><img src="chapters/01_download_files/figure-gfm/unnamed-chunk-2-1.png" /><!-- --></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="download-process.html#cb4-1" tabindex="-1"></a><span class="co"># Alaska map:</span></span>
<span id="cb4-2"><a href="download-process.html#cb4-2" tabindex="-1"></a>AK <span class="ot">&lt;-</span> state_selection <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="download-process.html#cb4-3" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">&quot;Alaska&quot;</span>)</span>
<span id="cb4-4"><a href="download-process.html#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="download-process.html#cb4-5" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-6"><a href="download-process.html#cb4-6" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> grid_counts,</span>
<span id="cb4-7"><a href="download-process.html#cb4-7" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> n)) <span class="sc">+</span></span>
<span id="cb4-8"><a href="download-process.html#cb4-8" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> AK,</span>
<span id="cb4-9"><a href="download-process.html#cb4-9" tabindex="-1"></a>          <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-10"><a href="download-process.html#cb4-10" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb4-11"><a href="download-process.html#cb4-11" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb4-12"><a href="download-process.html#cb4-12" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fu">min</span>(<span class="fu">st_coordinates</span>(AK)[,<span class="st">&quot;X&quot;</span>]),</span>
<span id="cb4-13"><a href="download-process.html#cb4-13" tabindex="-1"></a>                    <span class="fu">max</span>(<span class="fu">st_coordinates</span>(AK)[,<span class="st">&quot;X&quot;</span>])),</span>
<span id="cb4-14"><a href="download-process.html#cb4-14" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fu">min</span>(<span class="fu">st_coordinates</span>(AK)[,<span class="st">&quot;Y&quot;</span>]),</span>
<span id="cb4-15"><a href="download-process.html#cb4-15" tabindex="-1"></a>                    <span class="fu">max</span>(<span class="fu">st_coordinates</span>(AK)[,<span class="st">&quot;Y&quot;</span>]))) <span class="sc">+</span></span>
<span id="cb4-16"><a href="download-process.html#cb4-16" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="st">&quot;Record count&quot;</span>,</span>
<span id="cb4-17"><a href="download-process.html#cb4-17" tabindex="-1"></a>                       <span class="at">trans =</span> <span class="st">&quot;log10&quot;</span>,</span>
<span id="cb4-18"><a href="download-process.html#cb4-18" tabindex="-1"></a>                       <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(),</span>
<span id="cb4-19"><a href="download-process.html#cb4-19" tabindex="-1"></a>                       <span class="at">na.value =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb4-20"><a href="download-process.html#cb4-20" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span></span>
<span id="cb4-21"><a href="download-process.html#cb4-21" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Alaska&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-22"><a href="download-process.html#cb4-22" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
</details>
<p><img src="chapters/01_download_files/figure-gfm/unnamed-chunk-2-2.png" /><!-- --></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="download-process.html#cb5-1" tabindex="-1"></a><span class="co"># Hawaii map:</span></span>
<span id="cb5-2"><a href="download-process.html#cb5-2" tabindex="-1"></a>HI <span class="ot">&lt;-</span> state_selection <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="download-process.html#cb5-3" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">&quot;Hawaii&quot;</span>)</span>
<span id="cb5-4"><a href="download-process.html#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="download-process.html#cb5-5" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb5-6"><a href="download-process.html#cb5-6" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> grid_counts,</span>
<span id="cb5-7"><a href="download-process.html#cb5-7" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> n)) <span class="sc">+</span></span>
<span id="cb5-8"><a href="download-process.html#cb5-8" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> HI,</span>
<span id="cb5-9"><a href="download-process.html#cb5-9" tabindex="-1"></a>          <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-10"><a href="download-process.html#cb5-10" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb5-11"><a href="download-process.html#cb5-11" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb5-12"><a href="download-process.html#cb5-12" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fu">min</span>(<span class="fu">st_coordinates</span>(HI)[,<span class="st">&quot;X&quot;</span>]),</span>
<span id="cb5-13"><a href="download-process.html#cb5-13" tabindex="-1"></a>                    <span class="fl">0.9</span> <span class="sc">*</span> <span class="fu">max</span>(<span class="fu">st_coordinates</span>(HI)[,<span class="st">&quot;X&quot;</span>])),</span>
<span id="cb5-14"><a href="download-process.html#cb5-14" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">1.1</span> <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">st_coordinates</span>(HI)[,<span class="st">&quot;Y&quot;</span>]),</span>
<span id="cb5-15"><a href="download-process.html#cb5-15" tabindex="-1"></a>                    <span class="fu">max</span>(<span class="fu">st_coordinates</span>(HI)[,<span class="st">&quot;Y&quot;</span>]))) <span class="sc">+</span></span>
<span id="cb5-16"><a href="download-process.html#cb5-16" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="st">&quot;Record count&quot;</span>,</span>
<span id="cb5-17"><a href="download-process.html#cb5-17" tabindex="-1"></a>                       <span class="at">trans =</span> <span class="st">&quot;log10&quot;</span>,</span>
<span id="cb5-18"><a href="download-process.html#cb5-18" tabindex="-1"></a>                       <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(),</span>
<span id="cb5-19"><a href="download-process.html#cb5-19" tabindex="-1"></a>                       <span class="at">na.value =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb5-20"><a href="download-process.html#cb5-20" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span></span>
<span id="cb5-21"><a href="download-process.html#cb5-21" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Hawaii&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-22"><a href="download-process.html#cb5-22" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
</details>
<p><img src="chapters/01_download_files/figure-gfm/unnamed-chunk-2-3.png" /><!-- --></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="download-process.html#cb6-1" tabindex="-1"></a><span class="co"># American Samoa map:</span></span>
<span id="cb6-2"><a href="download-process.html#cb6-2" tabindex="-1"></a>AS <span class="ot">&lt;-</span> state_selection <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="download-process.html#cb6-3" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;American Samoa&quot;</span>))</span>
<span id="cb6-4"><a href="download-process.html#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="download-process.html#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="download-process.html#cb6-6" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-7"><a href="download-process.html#cb6-7" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> grid_counts,</span>
<span id="cb6-8"><a href="download-process.html#cb6-8" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> n)) <span class="sc">+</span></span>
<span id="cb6-9"><a href="download-process.html#cb6-9" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> AS,</span>
<span id="cb6-10"><a href="download-process.html#cb6-10" tabindex="-1"></a>          <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-11"><a href="download-process.html#cb6-11" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb6-12"><a href="download-process.html#cb6-12" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb6-13"><a href="download-process.html#cb6-13" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">1.025</span> <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">st_coordinates</span>(AS)[,<span class="st">&quot;X&quot;</span>]),</span>
<span id="cb6-14"><a href="download-process.html#cb6-14" tabindex="-1"></a>                    <span class="fl">0.975</span> <span class="sc">*</span><span class="fu">max</span>(<span class="fu">st_coordinates</span>(AS)[,<span class="st">&quot;X&quot;</span>])),</span>
<span id="cb6-15"><a href="download-process.html#cb6-15" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">1.05</span> <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">st_coordinates</span>(AS)[,<span class="st">&quot;Y&quot;</span>]),</span>
<span id="cb6-16"><a href="download-process.html#cb6-16" tabindex="-1"></a>                    <span class="fu">max</span>(<span class="fu">st_coordinates</span>(AS)[,<span class="st">&quot;Y&quot;</span>]))) <span class="sc">+</span></span>
<span id="cb6-17"><a href="download-process.html#cb6-17" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="st">&quot;Record count&quot;</span>,</span>
<span id="cb6-18"><a href="download-process.html#cb6-18" tabindex="-1"></a>                       <span class="at">trans =</span> <span class="st">&quot;log10&quot;</span>,</span>
<span id="cb6-19"><a href="download-process.html#cb6-19" tabindex="-1"></a>                       <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(),</span>
<span id="cb6-20"><a href="download-process.html#cb6-20" tabindex="-1"></a>                       <span class="at">na.value =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb6-21"><a href="download-process.html#cb6-21" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span></span>
<span id="cb6-22"><a href="download-process.html#cb6-22" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;American Samoa&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-23"><a href="download-process.html#cb6-23" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
</details>
<p><img src="chapters/01_download_files/figure-gfm/unnamed-chunk-2-4.png" /><!-- --></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="download-process.html#cb7-1" tabindex="-1"></a><span class="co"># Guam &amp; Commonwealth of the Northern Mariana Islands map</span></span>
<span id="cb7-2"><a href="download-process.html#cb7-2" tabindex="-1"></a>GU_CNMI <span class="ot">&lt;-</span> state_selection <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="download-process.html#cb7-3" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Guam&quot;</span>, <span class="st">&quot;Commonwealth of the Northern Mariana Islands&quot;</span>))</span>
<span id="cb7-4"><a href="download-process.html#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="download-process.html#cb7-5" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-6"><a href="download-process.html#cb7-6" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> grid_counts,</span>
<span id="cb7-7"><a href="download-process.html#cb7-7" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> n)) <span class="sc">+</span></span>
<span id="cb7-8"><a href="download-process.html#cb7-8" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> GU_CNMI,</span>
<span id="cb7-9"><a href="download-process.html#cb7-9" tabindex="-1"></a>          <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-10"><a href="download-process.html#cb7-10" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="download-process.html#cb7-11" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb7-12"><a href="download-process.html#cb7-12" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">1.025</span> <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">st_coordinates</span>(GU_CNMI)[,<span class="st">&quot;X&quot;</span>]),</span>
<span id="cb7-13"><a href="download-process.html#cb7-13" tabindex="-1"></a>                    <span class="fl">0.975</span> <span class="sc">*</span> <span class="fu">max</span>(<span class="fu">st_coordinates</span>(GU_CNMI)[,<span class="st">&quot;X&quot;</span>])),</span>
<span id="cb7-14"><a href="download-process.html#cb7-14" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">0.95</span> <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">st_coordinates</span>(GU_CNMI)[,<span class="st">&quot;Y&quot;</span>]),</span>
<span id="cb7-15"><a href="download-process.html#cb7-15" tabindex="-1"></a>                    <span class="fl">1.05</span> <span class="sc">*</span> <span class="fu">max</span>(<span class="fu">st_coordinates</span>(GU_CNMI)[,<span class="st">&quot;Y&quot;</span>]))) <span class="sc">+</span></span>
<span id="cb7-16"><a href="download-process.html#cb7-16" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="st">&quot;Record count&quot;</span>,</span>
<span id="cb7-17"><a href="download-process.html#cb7-17" tabindex="-1"></a>                       <span class="at">trans =</span> <span class="st">&quot;log10&quot;</span>,</span>
<span id="cb7-18"><a href="download-process.html#cb7-18" tabindex="-1"></a>                       <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(),</span>
<span id="cb7-19"><a href="download-process.html#cb7-19" tabindex="-1"></a>                       <span class="at">na.value =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb7-20"><a href="download-process.html#cb7-20" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span></span>
<span id="cb7-21"><a href="download-process.html#cb7-21" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Guam &amp; Commonwealth of the Northern Mariana Islands&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-22"><a href="download-process.html#cb7-22" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
</details>
<p><img src="chapters/01_download_files/figure-gfm/unnamed-chunk-2-5.png" /><!-- --></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="download-process.html#cb8-1" tabindex="-1"></a><span class="co"># Puerto Rico &amp; United States Virgin Islands map:</span></span>
<span id="cb8-2"><a href="download-process.html#cb8-2" tabindex="-1"></a>PR_VI <span class="ot">&lt;-</span> state_selection <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="download-process.html#cb8-3" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Puerto Rico&quot;</span>, <span class="st">&quot;United States Virgin Islands&quot;</span>))</span>
<span id="cb8-4"><a href="download-process.html#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="download-process.html#cb8-5" tabindex="-1"></a></span>
<span id="cb8-6"><a href="download-process.html#cb8-6" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-7"><a href="download-process.html#cb8-7" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> grid_counts,</span>
<span id="cb8-8"><a href="download-process.html#cb8-8" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> n)) <span class="sc">+</span></span>
<span id="cb8-9"><a href="download-process.html#cb8-9" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> PR_VI,</span>
<span id="cb8-10"><a href="download-process.html#cb8-10" tabindex="-1"></a>          <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-11"><a href="download-process.html#cb8-11" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb8-12"><a href="download-process.html#cb8-12" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb8-13"><a href="download-process.html#cb8-13" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">0.95</span> <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">st_coordinates</span>(PR_VI)[,<span class="st">&quot;X&quot;</span>]),</span>
<span id="cb8-14"><a href="download-process.html#cb8-14" tabindex="-1"></a>                    <span class="fl">1.05</span> <span class="sc">*</span> <span class="fu">max</span>(<span class="fu">st_coordinates</span>(PR_VI)[,<span class="st">&quot;X&quot;</span>])),</span>
<span id="cb8-15"><a href="download-process.html#cb8-15" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">1.075</span> <span class="sc">*</span> <span class="fu">min</span>(<span class="fu">st_coordinates</span>(PR_VI)[,<span class="st">&quot;Y&quot;</span>]),</span>
<span id="cb8-16"><a href="download-process.html#cb8-16" tabindex="-1"></a>                    <span class="fl">0.925</span> <span class="sc">*</span> <span class="fu">max</span>(<span class="fu">st_coordinates</span>(PR_VI)[,<span class="st">&quot;Y&quot;</span>]))) <span class="sc">+</span></span>
<span id="cb8-17"><a href="download-process.html#cb8-17" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="st">&quot;Record count&quot;</span>,</span>
<span id="cb8-18"><a href="download-process.html#cb8-18" tabindex="-1"></a>                       <span class="at">trans =</span> <span class="st">&quot;log10&quot;</span>,</span>
<span id="cb8-19"><a href="download-process.html#cb8-19" tabindex="-1"></a>                       <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(),</span>
<span id="cb8-20"><a href="download-process.html#cb8-20" tabindex="-1"></a>                       <span class="at">na.value =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb8-21"><a href="download-process.html#cb8-21" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span></span>
<span id="cb8-22"><a href="download-process.html#cb8-22" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Puerto Rico &amp; United States Virgin Islands&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-23"><a href="download-process.html#cb8-23" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
</details>
<p><img src="chapters/01_download_files/figure-gfm/unnamed-chunk-2-6.png" /><!-- --></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pre-harmonization-decision-process.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
